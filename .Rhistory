private$country[i] <- if(is.na(loc[[i]]$country)) NA else loc[[i]]$country
print(i)
}
i <- 1
loc[[i]] <- geocode(as.character(private$Private.Hospital[i]), output = 'more')
private$lon[i] <- loc[[i]]$lon
private$lat[i] <- lon[[i]]$lat
for (i in 1:nrow(private)){
loc[[i]] <- geocode(as.character(private$Private.Hospital[i]), output = 'more')
private$lon[i] <- loc[[i]]$lon
private$lat[i] <- loc[[i]]$lat
private$country[i] <- if(is.na(loc[[i]]$country)) NA else loc[[i]]$country
print(i)
}
for (i in 1:nrow(private)){
loc[[i]] <- geocode(as.character(private$Private.Hospital[i]), output = 'more')
private$lon[i] <- loc[[i]]$lon
private$lat[i] <- loc[[i]]$lat
private$country[i] <- if(is.null(loc[[i]]$country)) NA else loc[[i]]$country
print(i)
}
state <- data.frame(state)
colnames(state) <- "State.Hospital"
loc <- list()
for (i in 1:nrow(state)){
loc[[i]] <- geocode(as.character(state$Private.Hospital[i]), output = 'more')
state$lon[i] <- loc[[i]]$lon
state$lat[i] <- loc[[i]]$lat
state$country[i] <- if(is.null(loc[[i]]$country)) NA else loc[[i]]$country
print(i)
}
write.csv(private, "private.csv", row.names = F)
write.csv(private, "state.csv", row.names = F)
write.csv(private, "private.csv", row.names = F)
write.csv(state, "state.csv", row.names = F)
private
state
state <- data.frame(state)
colnames(state) <- "State.Hospital"
loc <- list()
for (i in 1:nrow(state)){
loc[[i]] <- geocode(as.character(state$Private.Hospital[i]), output = 'more')
state$lon[i] <- loc[[i]]$lon
state$lat[i] <- loc[[i]]$lat
state$country[i] <- if(is.null(loc[[i]]$country)) NA else loc[[i]]$country
print(i)
}
state
for (i in 1:nrow(state)){
loc[[i]] <- geocode(as.character(state$State.Hospital[i]), output = 'more')
state$lon[i] <- loc[[i]]$lon
state$lat[i] <- loc[[i]]$lat
state$country[i] <- if(is.null(loc[[i]]$country)) NA else loc[[i]]$country
print(i)
}
write.csv(private, "private.csv", row.names = F)
write.csv(state, "state.csv", row.names = F)
getwd()
training.set <- read.scv("C:/Github/Titanic/data/train.scv")
training.set <- read.csv("C:/Github/Titanic/data/train.scv")
training.set <- read.csv("C:/Github/Titanic/data/train.csv")
training.set <- read.csv("C:/Github/Titanic/data/train.csv")
genderclassmodel <- read.csv("C:/Github/Titanic/data/genderclassmodel.csv")
gendermodel <- read.csv("C:/Github/Titanic/data/gendermodel.csv")
training.set
head(training.set, 5)
head(genderclassmodel,5)
head(gendermodel,5)
nrow(training.set)
nrow(genderclassmodel)
nrow(gendermodel)
head(training.set, 10)
ts <- read.csv("C:/Github/Titanic/data/train.csv")
nrow(ts)
head(ts, 10)
ts[which(ts$SibSp > 0),]
head(ts[which(ts$SibSp > 0),])
require(twitteR)
download.file(url="http://curl.haxx.se/ca/cacert.pem", destfile="cacert.pem")
consumer_key <- 'tzpuerQtZ4PGi0jqOgNg77y6w'
consumer_secret <- 'YJwFwkfvZQ3SNdIVVoASZPspgt8b7esLp8Jqp4qk7ldWINGDin'
access_token <- '1592761717-yWRgnXsVOimayc8N5Gov9lZDSnM6Ui2kBYQOhaK'
access_secret <- 'H88PH4tiiDJg2Kir5NkcrhEw3sf0PSqrK5XGIwRKGHqYx'
setup_twitter_oauth(consumer_key,
consumer_secret,
access_token,
access_secret)
r_stats <- searchTwitter("#Rstats", n=1500, cainfo="cacert.pem")
r_stats <- searchTwitter("#Rstats", n=1500)
length(r_stats)
?twitteR
vsauce <- userTimeline("@tweetsauce", n = 100)
vsauce
vsauce <- userTimeline("@tweetsauce", n = 10)
vsauce
mom <- userTimeline("@momentum_za", n = 10)
mom
atmom <- searchTwitter("@momentum_za", n=10)
length(atmom)
atmom
mom <- userTimeline("@Fin24", n = 10)
mom
mom <- userTimeline("@FinancialMail", n = 10)
mom
decode_short_url("http://t.co/90W1JmWOaL @phakie101")
decode_short_url("http://t.co/90W1JmWOaL")
require(RCurl)
httpGET(decode_short_url("http://t.co/90W1JmWOaL"))
decode_short_url("http://t.co/90W1JmWOaL")
mom <- userTimeline("jeff__wicks", n = 10)
mom
userTimeline("AdamWakefieldPT", n = 10)
mom <- userTimeline("news24", n = 10)
mom
setwd("C:/Users/Veldrin/Documents/GitHub/SATwitteR")
t.handles <- read.csv("/data/twitterhandles.csv")
?read.csv
?file.path
t.handles <- read.csv(file.path(getwd(), "/data/twitterhandles.csv"))
t.handles
length(t.handles)
nrow(t.handles)
user.tweets <- data.frame()
i <- 1
t.handles[i]
t.handles[i]
t.handles[1,]
t.handles <- data.frame(read.csv(file.path(getwd(), "/data/twitterhandles.csv")))
t.handles[i]
t.handles[1,i]
t.handles[2,i]
t.handles[i,1]
t.handles[i,2]
t.handles[i,1]
user.tweets <- data.frame()
user.tweets <- userTimeline(as.character(t.handles[i,1]), n = 100)
user.twetes
user.tweets
?userTimeline
user.tweest[[1]]
user.tweets[[1]]
user.tweets[[2]]
str(user.tweets[[2]])
user.tweets[[38]]$created
user.tweets <- userTimeline(as.character(t.handles[i,1]), n = 200)
user.tweets
user.tweets
nrow(t.handles)
for (i in 1:nrow(t.handles)) {
#user.tweets <- userTimeline(as.character(t.handles[i,1]), n = 200)
all.tweets[[i]] <- userTimeline(as.character(t.handles[i,1]), n = 200)
print(i)
}
all.tweets <- list()
for (i in 1:nrow(t.handles)) {
#user.tweets <- userTimeline(as.character(t.handles[i,1]), n = 200)
all.tweets[[i]] <- userTimeline(as.character(t.handles[i,1]), n = 200)
print(i)
}
i
t.handles[24]
t.handles[24,1]
t.handles[23,1]
userTimeline(as.character(t.handles[i,1]), n = 200)
t.handles[i,1]
userTimeline(as.character(t.handles[i,1]), n = 200)
inherits(userTimeline(as.character(t.handles[i,1]), n = 200), "Not Found")
try(userTimeline(as.character(t.handles[i,1]), n = 200), "Not Found")
userTimeline(as.character(t.handles[i,1]), n = 200)
try(userTimeline(as.character(t.handles[i,1]), n = 200))
tryCatch(userTimeline(as.character(t.handles[i,1]), n = 200))
as.character(userTimeline(as.character(t.handles[i,1]), n = 200))
for (i in 22:nrow(t.handles)) {
#user.tweets <- userTimeline(as.character(t.handles[i,1]), n = 200)
all.tweets[[i]] <- try(userTimeline(as.character(t.handles[i,1]), n = 200))
print(i)
}
all.tweets[[114]]
i <- 23
userTimeline(as.character(t.handles[i,1]), n = 200)
all.tweets[[23]]
all.tweets[[24]]
str(all.tweets[[1]])
all.tweets[[1]]$created
all.tweets[[2]]$created
all.tweets[[2]][1$created
all.tweets[[2]][1]$created
all.tweets[[2]][1]
all.tweets[[1]][1]
all.tweets[[1]]
all.tweets[[1]][[1]]$.->created
all.tweets[[1]][[1]]$created
all.tweets[[]][[]]$created
all.tweets[[1]][[]]$created
all.tweets[[1]][[ ]]$created
all.tweets[[1]][[1]]$created
data.frame(all.tweets[[1]]$created)
data.frame(all.tweets[[1]])
all.tweets[[1]]
data.frame(all.tweets[[1]][[1]])
all.tweets[[1]][[1]]
str(all.tweets[[1]][[1]])
userTimeline(as.character(t.handles[i,1]), n = 200)$text
i
i <- 1
userTimeline(as.character(t.handles[i,1]), n = 200)
(userTimeline(as.character(t.handles[i,1]), n = 200)$text
userTimeline(as.character(t.handles[i,1]), n = 200)$text
userTimeline(as.character(t.handles[i,1]), n = 20)
userTimeline(as.character(t.handles[i,1]), n = 20)[1]
userTimeline(as.character(t.handles[i,1]), n = 20)[[]][1]
userTimeline(as.character(t.handles[i,1]), n = 20)[[1]
userTimeline(as.character(t.handles[i,1]), n = 20)[][1]
userTimeline(as.character(t.handles[i,1]), n = 200)[][1]
all.tweets[[i]]
as.character(userTimeline(as.character(t.handles[i,1]), n = 200))
userTimeline(as.character(t.handles[i,1]), n = 200)
as.character(userTimeline(as.character(t.handles[i,1]), n = 200))[[1]][1]
as.character(userTimeline(as.character(t.handles[i,1]), n = 200))[[24]]
as.character(userTimeline(as.character(t.handles[i,1]), n = 200))
all.tweets[[2]]
all.tweets[[2]]$text
all.tweets[[2]][1]
all.tweets[[2]][1]$text
all.tweets[[2]][1]
all.tweets
all.tweets[[1]]
all.tweets[[1]][1]
all.tweets[[1]][2]
str(all.tweets[[1]])
str(all.tweets[[1]][1])
all.tweets[[1]][1]$created
all.tweets[[1]][1]
str(all.tweets[[1]][1])
all.tweets[[1]]$text
all.tweets[[1]][1]
all.tweets[[1]][1]$created
all.tweets[[1]][2]
all.tweets[[1]][1]
all.tweets[[1]][3]
all.tweets[[1]][3][1]
all.tweets[[1]][1]
all.tweets[[1]][1][1]
all.tweets[[1]][1][2]
all.tweets[[1]][1][3]
all.tweets[[1]][1]$text
all.tweets[[1]][1]
all.tweets[[1]][[1]]$.->created
all.tweets[[1]][[1]]$created
all.tweets[[1]][[2]]$created
all.tweets[[1]][[]]$created
all.tweets[[1]]$created
all.tweets[[]][[1]]$created
all.tweets[[1]]$created
all.tweets$created
sapply(all.tweets[[1]],function(x) x[2])
sapply(all.tweets[[1]],function(x) x[[1]])
sapply(all.tweets[[1]],function(x) x[1])
sapply(all.tweets[1],function(x) x[1])
sapply(all.tweets[1],function(x) x[2])
sapply(all.tweets[2],function(x) x[2])
sapply(all.tweets[1],function(x) x[2])
sapply(all.tweets[1],function(x) x[2]$text)
sapply(all.tweets[1],function(x) x[[2]]$text)
sapply(all.tweets[1],`[`,2)
sapply(all.tweets[1],`[`,1)
sapply(all.tweets[1],`[`)
sapply(all.tweets[1],`[` 1)
sapply(all.tweets[1],`[`,1)
sapply(all.tweets[1],`[`,)
sapply(all.tweets[[1]],`[`,)
sapply(all.tweets[1],`[`,)
sapply(all.tweets[1],`[`,1)
sapply(all.tweets[[1]],`[`,1)
sapply(all.tweets[1],`[`,1)
sapply(all.tweets[1],`[`,2)
sapply(all.tweets[1],`[`,3)
sapply(all.tweets[1],`[`,4)
sapply(all.tweets[1],`[`,)
sapply(all.tweets[1],`[`)
setwd("C:/Users/Veldrin/Documents/GitHub/SATwitteR")
tweest <- readRDS("tweets.RDS")
tweets <- readRDS("tweets.RDS")
head(tweets)
head(tweets, 5)
str(tweets)
for (i in 1:15) {
#user.tweets <- userTimeline(as.character(t.handles[i,1]), n = 200)
all.tweets[[i]] <- try(userTimeline(as.character(t.handles[i,1]), n = 200))
}
k <- 1
for (i in 1:nrow(t.handles)) {
if (length(all.tweets[[i]]) > 1) {
user.tweets <- data.frame()
for (j in 1:length(all.tweets[[i]])) {
user.tweets[j,1] <- as.character(all.tweets[[i]][[j]]$screenName)
user.tweets[j,2] <- as.character(all.tweets[[i]][[j]]$text)
user.tweets[j,3] <- as.character(as.Date(all.tweets[[i]][[j]]$created))
}
combined.tweets[[k]] <- user.tweets
k <- k +1
}
}
all.tweets <- list()
user.tweets <- data.frame()
combined.tweets <- list()
k <- 1
for (i in 1:nrow(t.handles)) {
if (length(all.tweets[[i]]) > 1) {
user.tweets <- data.frame()
for (j in 1:length(all.tweets[[i]])) {
user.tweets[j,1] <- as.character(all.tweets[[i]][[j]]$screenName)
user.tweets[j,2] <- as.character(all.tweets[[i]][[j]]$text)
user.tweets[j,3] <- as.character(as.Date(all.tweets[[i]][[j]]$created))
}
combined.tweets[[k]] <- user.tweets
k <- k +1
}
}
k
length(all.tweets[[i]]
length(all.tweets[[i]])
i
all.tweets[[i]]
all.tweets
# for (i in 1:nrow(t.handles)) {
for (i in 1:15) {
#user.tweets <- userTimeline(as.character(t.handles[i,1]), n = 200)
all.tweets[[i]] <- try(userTimeline(as.character(t.handles[i,1]), n = 200))
}
print("a")
k <- 1
# for (i in 1:nrow(t.handles)) {
for (i in 1:15)) {
if (length(all.tweets[[i]]) > 1) {
user.tweets <- data.frame()
for (j in 1:length(all.tweets[[i]])) {
user.tweets[j,1] <- as.character(all.tweets[[i]][[j]]$screenName)
user.tweets[j,2] <- as.character(all.tweets[[i]][[j]]$text)
user.tweets[j,3] <- as.character(as.Date(all.tweets[[i]][[j]]$created))
}
combined.tweets[[k]] <- user.tweets
k <- k +1
}
}
k <- 1
# for (i in 1:nrow(t.handles)) {
for (i in 1:15) {
if (length(all.tweets[[i]]) > 1) {
user.tweets <- data.frame()
for (j in 1:length(all.tweets[[i]])) {
user.tweets[j,1] <- as.character(all.tweets[[i]][[j]]$screenName)
user.tweets[j,2] <- as.character(all.tweets[[i]][[j]]$text)
user.tweets[j,3] <- as.character(as.Date(all.tweets[[i]][[j]]$created))
}
combined.tweets[[k]] <- user.tweets
k <- k +1
}
}
combined.tweets
head(combined.tweets,5)
head(combined.tweets[[1]],5)
colnames(combined.tweets)
data.frame(combined.tweets)
df <- ldply(combined.tweets, data.frame)
require(plyr)
df <- ldply(combined.tweets, data.frame)
df
str(df)
colnames(df) <- c("ScreenName", "Tweet", "TweetDate")
which(df$TweetDate) > "2015-04-01"
which(df$TweetDate > "2015-04-01")
Apri.tweets <- df[which(df$TweetDate > "2015-04-01"),]
Apri.tweets <- NULL
April.tweets <- df[which(df$TweetDate > "2015-04-01"),]
April.tweets
head(April.tweets, 15)
gregexpr("\d", head(April.tweets$Tweet, 15))
gregexpr("/d", head(April.tweets$Tweet, 15))
?gregexpr
[10]
head(April.tweets$Tweet, 15)
a <- head(April.tweets$Tweet, 1)
a
gregexpr("[0-9]", a)
gregexpr("[0-9]{2}", a)
gregexpr("[0-9]{2,}", a)
a
gregexpr("[0-9]{3,}", a)
head(April.tweets$Tweet, 15)
a <- head(April.tweets$Tweet, 15)
gregexpr("@", a)
which(gregexpr("@", a) != -1)
gregexpr("@", a) != -1
gregexpr("@", a)
which(gregexpr("@", a) )
gregexpr("@", a)
which(gregexpr("@", a)  == -1)
which(as.numeric(gregexpr("@", a))  != -1)
as.numeric(gregexpr("@", a)
)
which(as.numeric(gregexpr("@", a))[[1]]  != -1)
gregexpr("@", a))[[1]]
gregexpr("@", a))
gregexpr("@", a)
gregexpr("@", a)[[1]]
gregexpr("@", a)
as.numeric(gregexpr("@", a))
as.character(gregexpr("@", a))
a
which(as.character(gregexpr("@", a)) != -1)
which(as.character(gregexpr("@", df$Tweet)) != -1)
df2 <- df
df2 <- [-which(as.character(gregexpr("@", df$Tweet)) != -1),]
df2 <- df2[-which(as.character(gregexpr("@", df$Tweet)) != -1),]
head(df2$Tweet, 10)
df <- df[-which(as.character(gregexpr("@", df$Tweet)) != -1),]
tweet.corpus <- Corpus(VectorSource(df$Tweet))
require(wordcloud)
tweet.corpus <- Corpus(VectorSource(df$Tweet))
require(tm)
tweet.corpus <- Corpus(VectorSource(df$Tweet))
april.tweets <- df[which(df$TweetDate >= "2015-04-01"),]
tweet.corpus <- Corpus(VectorSource(april.tweets$Tweet))
tdm <- TermDocumentMatrix(tweet.corpus)
tweet.corpus <- Corpus(VectorSource(april.tweets$Tweet))
tdm <- TermDocumentMatrix(tweet.corpus)
tweet.corpus
head(tweet.corpus)
wordcloud(tweet.corpus)
april.tweets$Tweet
tdm <- TermDocumentMatrix(tweet.corpus)
gregexpr("½í", apapril.tweet)
gregexpr("½í", april.tweet)
gregexpr("½í", april.tweets)
gregexpr("½í", april.tweets$Tweet)
as.character(gregexpr("½í", april.tweets$Tweet))
which(as.character(gregexpr("½í", april.tweets$Tweet)) != -1)
tweet.corpus <- Corpus(VectorSource(april.tweets$Tweet))
tdm <- TermDocumentMatrix(tweet.corpus)
which(as.character(gregexpr("lí", april.tweets$Tweet)) != -1)
nrow(april.tweets)
april.tweets <- april.tweets[1:200,]
tweet.corpus <- Corpus(VectorSource(april.tweets$Tweet))
tdm <- TermDocumentMatrix(tweet.corpus)
april.tweets <- april.tweets[1:2,]
tweet.corpus <- Corpus(VectorSource(april.tweets$Tweet))
tdm <- TermDocumentMatrix(tweet.corpus)
april.tweets <- df[which(df$TweetDate >= "2015-04-01"),]
april.tweets <- april.tweets[1:100,]
tweet.corpus <- Corpus(VectorSource(april.tweets$Tweet))
april.tweets <- df[which(df$TweetDate >= "2015-04-01"),]
april.tweets <- april.tweets[101:200,]
tweet.corpus <- Corpus(VectorSource(april.tweets$Tweet))
tdm <- TermDocumentMatrix(tweet.corpus)
april.tweets <- df[which(df$TweetDate >= "2015-04-01"),]
april.tweets <- april.tweets[201:300,]
tweet.corpus <- Corpus(VectorSource(april.tweets$Tweet))
tdm <- TermDocumentMatrix(tweet.corpus)
april.tweets <- df[which(df$TweetDate >= "2015-04-01"),]
april.tweets <- april.tweets[301:400,]
tweet.corpus <- Corpus(VectorSource(april.tweets$Tweet))
tdm <- TermDocumentMatrix(tweet.corpus)
april.tweets <- df[which(df$TweetDate >= "2015-04-01"),]
april.tweets <- april.tweets[101:400,]
tweet.corpus <- Corpus(VectorSource(april.tweets$Tweet))
april.tweets <- df[which(df$TweetDate >= "2015-04-01"),]
april.tweets <- april.tweets[1:400,]
tweet.corpus <- Corpus(VectorSource(april.tweets$Tweet))
tdm <- TermDocumentMatrix(tweet.corpus)
april.tweets <- df[which(df$TweetDate >= "2015-04-01"),]
april.tweets <- april.tweets[1:500,]
tweet.corpus <- Corpus(VectorSource(april.tweets$Tweet))
april.tweets <- df[which(df$TweetDate >= "2015-04-01"),]
april.tweets <- april.tweets[1:500,]
tweet.corpus <- Corpus(VectorSource(april.tweets$Tweet))
tdm <- TermDocumentMatrix(tweet.corpus)
april.tweets <- df[which(df$TweetDate >= "2015-04-01"),]
april.tweets <- april.tweets[1:400,]
tweet.corpus <- Corpus(VectorSource(april.tweets$Tweet))
tdm <- TermDocumentMatrix(tweet.corpus)
april.tweets <- df[which(df$TweetDate >= "2015-04-01"),]
april.tweets <- april.tweets[1:100,]
tweet.corpus <- Corpus(VectorSource(april.tweets$Tweet))
tdm <- TermDocumentMatrix(tweet.corpus)
april.tweets <- df[which(df$TweetDate >= "2015-04-01"),]
april.tweets <- april.tweets[1:20,]
tweet.corpus <- Corpus(VectorSource(april.tweets$Tweet))
tdm <- TermDocumentMatrix(tweet.corpus)
april.tweets <- df[which(df$TweetDate >= "2015-04-01"),]
april.tweets <- april.tweets[1:50,]
tweet.corpus <- Corpus(VectorSource(april.tweets$Tweet))
tdm <- TermDocumentMatrix(tweet.corpus)
april.tweets <- df[which(df$TweetDate >= "2015-04-01"),]
april.tweets <- april.tweets[20:50,]
tweet.corpus <- Corpus(VectorSource(april.tweets$Tweet))
tdm <- TermDocumentMatrix(tweet.corpus)
april.tweets[20:50,2]
april.tweets <- april.tweets[20:50,1]
april.tweets
april.tweets <- april.tweets[20:50,]
april.tweets[20:50,]
april.tweets <- april.tweets[20:50,1:3]
april.tweets
april.tweets <- df[which(df$TweetDate >= "2015-04-01"),]
april.tweets <- april.tweets[20:50,]
april.tweets
april.tweets <- df[which(df$TweetDate >= "2015-04-01"),]
april.tweets <- april.tweets[40:50,]
tweet.corpus <- Corpus(VectorSource(april.tweets$Tweet))
tdm <- TermDocumentMatrix(tweet.corpus)
april.tweets
